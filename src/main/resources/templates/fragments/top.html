<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<!--导航栏-->
<div id="top" class="fixed" data-th-fragment="top">
    <!-- .navbar -->
    <nav class="navbar navbar-static-top">
        <div class="container-fluid m-0">
            <a class="navbar-brand float-left" href="index.html">
                <h4><img th:src="@{/img/logo1.png}" class="admin_img" alt="logo"/>&nbsp;计算机程序在线性能测评系统</h4>
            </a>
            <!-- center-->
            <div class="menu hidden-lg-up float-left">
                    <span class="toggle-left" id="menu-toggle">
                        <i class="fa fa-bars"></i>
                    </span>
            </div>
            <!-- #center-->

            <div class="topnav dropdown-menu-right float-right">
                <div class="btn-group hidden-md-up small_device_search" data-toggle="modal"
                     data-target="#search_modal">
                    <i class="fa fa-search text-primary"></i>
                </div>
                <div sec:authorize="isAnonymous()">
                    <a th:href="@{/user/register}" class="btn btn-info ml-2 button-rounded float-right mt-1 glow_button"
                       style="width: 60px">
                        注册
                    </a>
                    <a th:href="@{/user/login}" class="btn btn-primary button-rounded  float-right mt-1 glow_button"
                       style="width: 60px">
                        登录
                    </a>
                </div>
                <div sec:authorize="isAuthenticated()">
                    <div class="btn-group">
                        <div class="notifications messages no-bg">
                            <a class="btn btn-default btn-sm" data-toggle="dropdown" id="notifications_section"> <i
                                    class="fa fa-bell-o"></i>
                                <span class="badge badge-pill badge-danger notifications_badge_top">9</span>
                            </a>
                            <div class="dropdown-menu drop_box_align" role="menu" id="notifications_dropdown">
                                <div class="popover-title">你有9个信息</div>
                                <div id="notifications">
                                    <div class="data">
                                        <div class="row">
                                            <div class="col-2">
                                                <img src="img/mailbox_imgs/2.jpg"
                                                     class="message-img avatar rounded-circle"
                                                     alt="avatar1"></div>
                                            <div class="col-10 message-data">
                                                <i class="fa fa-clock-o"></i>
                                                <strong>clay</strong>
                                                business propasals
                                                <br>
                                                <small class="primary_txt">20min Back.</small>
                                                <br>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="popover-footer">
                                    <a href="#" class="text-white">查看所有</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="btn-group">
                        <div class="user-settings no-bg">
                            <button type="button" class="btn btn-default no-bg micheal_btn" data-toggle="dropdown">
                                <img  th:src="${#authentication.principal.avatar} == null ? '/img/default_avatar.jpg' :
                                 ${#authentication.principal.avatar}" class="admin_img2  rounded-circle "
                                     alt="avatar" />
                                <strong>[[${#authentication.name}]]</strong>
                                <span class="fa fa-sort-down white_bg"></span>
                            </button>
                            <div class="dropdown-menu drop_box_align">
                                <a class="dropdown-item title" href="#">
                                    [[${#authentication.name}]]</a>
                                <a class="dropdown-item" th:href="@{'/user/main?userId='+${#authentication.principal.id}}"><i class="fa fa-user"></i>
                                    我的主页</a>
                                <a class="dropdown-item" th:href="@{/user/profile}"><i class="fa fa-cog"></i>
                                    信息编辑</a>
                                <a class="dropdown-item" th:href="@{/user/logout}"><i class="fa fa-sign-out"></i>
                                    退出</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="top_search_box float-right hidden-sm-down">
                <form class="header_input_search float-right" th:action="@{/problem/problemList}" method="post">
                    <input type="text" placeholder="题目搜索" name="keyword">
                    <button type="submit">
                        <span class="font-icon-search"></span>
                    </button>
                    <div class="overlay"></div>
                </form>
            </div>
        </div>
        <!-- /.container-fluid -->
    </nav>
    <!-- /.navbar -->
    <!-- /.head -->
</div>
</html>